@page
@model Cinematix.IndexModel

@{
    ViewData["Title"] = "Index";
}

<style>
    .movie-item {
        margin-bottom: 1.5rem;
    }

        .movie-item img {
            width: 100%;
        }

        .movie-item .movie-title {
            padding: .5rem;
            border: 1px solid black;
            text-align: center;
            font-family: sans-serif;
        }
</style>

<div class="row movie-list"></div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        $.ajax({
            type: 'GET',
            url: 'https://api.themoviedb.org/3/discover/movie',
            data: {
                api_key: 'cea80748836f2f4f9f70ce9d4265efa1'
            }
        }).done(function (xhr) {
            return;
            console.log(xhr);

            for (let index in xhr.results) {
                let result = xhr.results[index];
                $('.movie-list').append(
                    '<div class="col-lg-3 movie-item">' +
                    '<img src = "http://image.tmdb.org/t/p/w500' + result.poster_path + '" />' +
                    '<div class="movie-title"><a href="/Movies/Details?id=2" temp="' + result.id + '" >' + result.title + '</a></div>' +
                    '</div>'
                );
            }
        });
    });
</script>


<div class="row movie-list">
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/xBHvZcjRiWyobQ9kxBhO6B2dtRI.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Ad Astra</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/eFCzU9Jqp2Ea17ysDkG8PB0NLiR.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">A Rainy Day in New York</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/aQvJ5WPzZgYVDrxLX4R6cLJCEaQ.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Sonic the Hedgehog</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/bB42KDdfWkOvmzmYkmK58ZlCa9P.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Jumanji: The Next Level</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/iZf0KyrE25z1sage4SYFLCCrMi9.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">1917</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/46UQgss4eeiLt1XE2GpHpPkzjIi.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Kamen Rider Zi-O NEXT TIME: Geiz, Majesty</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/8WUVHemHFH2ZIP6NWkwlHWsyrEL.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Bloodshot</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/pjeMs3yqRmFL3giJy4PMXWZTTPa.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Frozen II</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/h4VB6m0RwcicVEZvzftYZyKXs6K.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Birds of Prey (and the Fantabulous Emancipation of One Harley Quinn)</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/kbC6I0AOSLTHFA2dieyat9h8QHP.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Contagion</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Joker</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Parasite</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/fePczipv6ZzDO2uoww4vTAu2Sq3.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Spenser Confidential</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/uIMOFUeXkx4tcAydLrzGMLTtzRK.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">The Grudge</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/pThyQovXQrw2m0s9x82twj48Jq4.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Knives Out</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/jpfkzbIXgKZqCZAkEkFH2VYF63s.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Cars</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/6ApDtO7xaWAfPqfi2IARXIzj8QS.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Ford v Ferrari</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/4U7hpTK0XTQBKT5X60bKmJd05ha.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">The Invisible Man</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/db32LaOibwEliAmSL2jjDF6oDdj.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Star Wars: The Rise of Skywalker</a></div>
    </div>
    <div class="col-lg-3 movie-item">
        <img src="http://image.tmdb.org/t/p/w500/30YacPAcxpNemhhwX0PVUl9pVA3.jpg">
        <div class="movie-title"><a href="/Movies/Details?id=2">Spies in Disguise</a></div>
    </div>
</div>


@if (false)
{

    @foreach (var item in Model.Movie)
    {
        <div class="col-lg-3 movie-item">
            <img src="http://image.tmdb.org/t/p/w500/eFCzU9Jqp2Ea17ysDkG8PB0NLiR.jpg">
            <div class="movie-title">
                <a href="/Movies/Details?id=2">A Rainy Day in New York</a>
            </div>
        </div>
    }
    <p>
        <a asp-page="Create"> Create New</a>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].ImdbId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Director)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Cast)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Runtime)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Rating)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].Genre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Movie[0].PegiRating)
                </th>
                <th> </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Movie)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.ImdbId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Director)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cast)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Runtime)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Rating)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Genre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PegiRating)
                    </td>
                    <td>
                        <a asp-page="./Edit" asp-route-id="@item.Id"> Edit</a> |
                        <a href="/Movies/Details?id=2" temp="@item.Id"> Details</a> |
                        <a asp-page="./Delete" asp-route-id="@item.Id"> Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

}